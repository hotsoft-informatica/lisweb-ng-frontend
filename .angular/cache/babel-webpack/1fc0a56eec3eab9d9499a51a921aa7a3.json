{"ast":null,"code":"import { BehaviorSubject, of } from 'rxjs';\nimport { catchError, finalize } from 'rxjs/operators';\nexport class LaboratoryDomainReadDataSource {\n  constructor(laboratoryDomainService) {\n    this.laboratoryDomainService = laboratoryDomainService;\n    this.laboratoryDomainsSubject = new BehaviorSubject([]);\n    this.loadingSubject = new BehaviorSubject(false);\n    this.query = [];\n    this.loading$ = this.loadingSubject.asObservable();\n  }\n\n  loadLaboratoryDomains(active, sortDirection, pageIndex, pageSize, query) {\n    this.loadingSubject.next(true);\n    this.laboratoryDomainService.findLaboratoryDomains(active, sortDirection, pageIndex, pageSize, query).pipe(catchError(() => of([])), finalize(() => this.loadingSubject.next(false))).subscribe(laboratoryDomains => this.laboratoryDomainsSubject.next(laboratoryDomains));\n  }\n\n  connect(collectionViewer) {\n    console.log('Conectando ao data source');\n    return this.laboratoryDomainsSubject.asObservable();\n  }\n\n  disconnect(collectionViewer) {\n    this.laboratoryDomainsSubject.complete();\n    this.loadingSubject.complete();\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}