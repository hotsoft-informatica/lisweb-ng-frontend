<div class="container-fluid h-100 justify-content-center col-sm-12 col-md-12 col-lg-12">
  <div class="d-flex">
    <!-- <h5>
      Liberações Geradas
    </h5> -->
    <button mat-flat-button color="primary"
      class="d-flex btn d-print-none justify-content-center align-items-center"
      data-bs-toggle="collapse" data-bs-target="#search"
      role="button" aria-expanded="false" aria-controls="search"
      type="button">
      <mat-icon>search</mat-icon>
      <span>Buscar</span>
    </button>
  </div>
  <form id="search" class="mt-3 collapse">
    <div class="row d-grid gap-2 d-md-flex justify-content-start">
      <div class="form-group col-md-1">
        <!-- TODO: Implementar min e max do input date -->
        <!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date#max -->
        <label for="dateInit" class="form-label">
          Data Inicial
        </label>
        <input name="dateInit" type="date" title="Data Inicial"
          class="form-control form-control-sm" />
      </div>
      <div class="form-group col-md-1">
        <!-- TODO: Implementar min e max do input date -->
        <label for="dateEnd" class="form-label">
          Data Final
        </label>
        <input name="dateEnd" type="date" title="Data Final"
          class="form-control form-control-sm" />
      </div>
      <div class="form-group col-md-2">
        <label for="serie" class="form-label">
          Série
        </label>
        <input name="serie" placeholder="1234" required type="number"
          class="form-control form-control-sm" />
      </div>
      <div class="form-group col-md-2">
        <label for="user" class="form-label">
          Usuário
        </label>
        <select name="user" title="Usuário" class="form-control form-control-sm">
          <option>...</option>
        </select>
      </div>
      <div class="form-group col-md-2">
        <label for="operation" class="form-label">
          Operação
        </label>
        <select name="operation" title="Operação"
          class="form-control form-control-sm">
          <option>...</option>
        </select>
      </div>
      <!-- TODO: Live Search -->
      <!-- <div class="form-group col-auto d-flex">
        <button type="submit" name="enviar" class="btn btn-info align-self-end">Pesquisar</button>
      </div> -->
    </div>
  </form>
  <div class="table-responsive mt-3">
    <table class="table table-striped table-hover table-sm bg-white">
      <thead>
        <tr>
          <th scope="col">Data</th>
          <th scope="col">Série</th>
          <th scope="col">Liberação</th>
          <th scope="col">Quantidade de Exames</th>
          <th scope="col">Usuário</th>
          <th scope="col">Operação</th>
          <th scope="col">Observação</th>
          <th scope="col"></th>
          <!-- TODO: Parte financeira das licencas
          <th></th>
          <th></th> -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let a of arrayA">
          <td class="align-middle">
            license.created_at
          </td>
          <td class="align-middle">
            license.num_serie
          </td>
          <td class="align-middle">
            license.num_liberacao
          </td>
          <td class="align-middle">
            license.qtde_exames
          </td>
          <td class="align-middle">
            license.user_login
          </td>
          <td class="align-middle">
            license_type
          </td>
          <td class="align-middle">
            license.observacao
          </td>
          <td class="align-middle">
            <div class="d-flex align-items-center justify-content-center text-white">
              <a href="#editar" title="Editar"
                class="btn btn-sm btn-primary d-flex align-items-center justify-content-center text-white">
                <mat-icon>
                  edit
                </mat-icon>
                <span>Editar</span>
              </a>
            </div>
          </td>
          <!-- TODO: Parte financeira das licencas
          <td class="align-middle">
            <div class="d-flex align-items-center justify-content-center text-white">
              <a href="#financial" title="Financeiro"
              class="btn btn-sm btn-success d-flex align-items-center justify-content-center text-white">
                <mat-icon>attach_money</mat-icon>
                <span>Financeiro</span>
              </a>
            </div>
          </td>
          <td class="align-middle">
            <div class="d-flex align-items-center justify-content-center text-white">
              <a href="#order" title="Pedido"
              class="btn btn-sm btn-info d-flex align-items-center justify-content-center text-white">
                <mat-icon>shopping_cart</mat-icon>
                <span>Pedido</span>
              </a>
            </div>
          </td> -->
        </tr>
      </tbody>
    </table>
  </div>
  <!-- Paginação -->
</div>

<button type="button" class="btn btn-primary"
  data-bs-toggle="modal" data-bs-target="#exampleModal">
  Criar
</button>
<button type="button" class="btn btn-primary"
  data-bs-toggle="modal" data-bs-target="#exampleModal2">
  Mostrar
</button>
<button type="button" class="btn btn-primary"
  data-bs-toggle="modal" data-bs-target="#exampleModal3">
  Editar
</button>

<div class="modal fade modal-lg" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Geração de licenças LabMaster
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form class="form-inline">
          <div role="group" class="form-check-inline custom-radio btn-group mb-3 align-items-center">
            <input type="radio" id="tipo_incremental" name="tipo" checked="checked"
              class="form-check-input radio-inline ml-sm-2 btn-check form-control-sm" required="required"
              autocomplete="off" aria-label="Tipo de liberação" autofocus="autofocus" />
            <label for="tipo_incremental" class="form-label form-check-label mr-sm-2 btn btn-outline-primary">
              Incremental
            </label>
            <input type="radio" id="tipo_inicial" name="tipo"
              class="form-check-input radio-inline ml-sm-2 btn-check form-control-sm"
              required="required"
              autocomplete="off" />
            <label for="tipo_inicial"
              class="form-label form-check-label mr-sm-2 btn btn-outline-primary">
              Inicial
            </label>
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="num_serie" class="col-sm-3 form-label">
              Numero de Série</label>
            <input type="text" name="num_serie" required="required"
              placeholder="0000" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="num_liberacao" class="col-sm-3 form-label">
              Número de Liberação
            </label>
            <input type="text" name="num_liberacao" required="required"
              placeholder="1234567890" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="exames_livres" class="col-sm-3 form-label">
              Exames Livres
            </label>
            <input type="text" name="exames_livres" required="required"
              placeholder="10000" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="num_autorizacao" class="col-sm-3 form-label">
              Número de Autorização
            </label>
            <input type="text" name="num_autorizacao" required="required"
              placeholder="12341234" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="qtde_exames" class="col-sm-3 form-label">
              Quantidade de Exames</label>
            <input type="text" name="qtde_exames" required="required"
              placeholder="43210" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="consumo_medio" class="col-sm-3 form-label">
              Média de Consumo</label>
            <input type="text" name="consumo_medio" required="required"
              placeholder="1234" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="data_validade" class="col-sm-3 form-label">
              Data de Validade</label>
            <input name="data_validade" type="date" class="col-sm-9" />
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <!-- TODO: Bug que deixa o select ocupando toda a linha
              nao sobrando espaco para o label
              <label for="operacao"
                class="col-sm-3 form-label form-select-sm">
                Operação
              </label> -->
            <!-- TODO: Iterar a partir do cadastro de tipos -->
            <select name="license_type" class="form-control form-select col-sm-9"
              required="required"
              aria-label="Tipo de Licença">
              <option>Operação</option>
              <option>TODO 2</option>
            </select>
          </div>

          <div class="form-row form-group form-label-group mb-1 row">
            <label for="observacao" class="col-sm-3 form-label">
              Observação
            </label>
            <textarea name="observacao" required="required" class="col-sm-9"
              rows="2"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer mb-3">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Sair
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
          data-bs-target="#exampleModal2">
          Gerar Licença
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade modal-lg" id="exampleModal3" tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Edição de Licenças LabMaster
        </h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal"
          aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container-fluid h-100 justify-content-center mt-sm-2 col-sm-12 col-md-12 col-lg-12">
          <form class="form-inline">
            <div class="form-row form-group form-label-group mb-1 row">
              <label for="created_at" class="col-sm-3 form-label">
                Data
              </label>
              <input type="text" name="created_at" disabled="disabled"
                placeholder="0000" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="tipo" class="col-sm-3 form-label">
                Tipo
              </label>
              <input type="text" name="tipo" disabled="disabled"
                placeholder="0000" class="col-sm-9" />
            </div>

            <!-- Exemplo --><!--
            <div class="form-row form-group form-label-group mb-1 row">
              <label for="num_liberacao" class="col-sm-3 form-label">
                Numero de Liberação</label
              >
              <input
                type="text"
                name="num_liberacao"
                required="required"
                placeholder="1234567890"
                class="col-sm-9"
              />
            </div>-->
            <!-- Exemplo -->

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="num_liberacao" class="col-sm-3 form-label">
                Número de liberação
              </label>
              <input type="text" name="num_liberacao" disabled="disabled"
                placeholder="1234567890" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="num_serie" class="col-sm-3 form-label">
                Número de Série
              </label>
              <input type="text" name="num_serie" disabled="true"
                placeholder="0000" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="exames_livres" class="col-sm-3 form-label">
                Exames Livres
              </label>
              <input type="text" for="exames_livres" disabled="true"
                placeholder="10000" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="num_autorizacao" class="col-sm-3 form-label">
                Número de Autorização
              </label>
              <input type="text" name="num_autorizacao" disabled="disabled"
                placeholder="12341234" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="qtde_exames" class="col-sm-3 form-label">
                Quantidade de Exames
              </label>
              <input type="text" name="qtde_exames" disabled="disabled"
                placeholder="43210" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="consumo_medio" class="col-sm-3 form-label">
                Média
              </label>
              <input type="text" name="consumo_medio" disabled="disabled"
                placeholder="1234" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="data_validade" class="col-sm-3 form-label">
                Numero de validacao
              </label>
              <input type="text" name="data_validade"
                disabled="disabled"
                class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="codigo_liberacao" class="col-sm-3 form-label">
                Verificador
              </label>
              <input type="text" name="codigo_liberacao"
                disabled="disabled" class="col-sm-9" />
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="operacao" class="col-sm-3 form-label">
                Operação
              </label>
              <select name="license_type" title="Tipo de Licença" class="col-sm-9">
                <option>Selecione uma opção</option>
              </select>
            </div>

            <div class="form-row form-group form-label-group mb-1 row">
              <label for="observacao" class="col-sm-3 form-label">
                Observação
              </label>
              <textarea name="observacao" required="required" class="col-sm-9"
                rows="3"></textarea>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer mb-3">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Sair
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal"
          data-bs-target="#exampleModal2">
          Salvar
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade modal-lg" id="exampleModal2" tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Licença do LabMaster
        </h1>
        <button type="button" class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container-fluid h-100 justify-content-center mt-sm-2 col-sm-12 col-md-12 col-lg-12">
          <div>
            <form class="form-inline">
              <div class="form-row form-group form-label-group mb-1 row">
                <label for="tipo" class="col-sm-3 form-label">
                  Tipo
                </label>
                <input type="text" name="tipo" disabled="true"
                  placeholder="0000" class="col-sm-9" />
              </div>

              <div class="form-row form-group form-label-group mb-1 row">
                <label for="num_liberacao" class="col-sm-3 form-label">
                  Número de Liberação
                </label>
                <input type="text" name="num_liberacao" disabled="disabled"
                  placeholder="1234567890" class="col-sm-9" />
              </div>

              <div class="form-row form-group form-label-group mb-1 row">
                <label for="exames_livres" class="col-sm-3 form-label">
                  Exames Livres
                </label>
                <input type="text" for="exames_livres" disabled="disabled"
                  placeholder="10000" class="col-sm-9" />
              </div>

              <div class="form-row form-group form-label-group mb-1 row">
                <label for="operacao" class="col-sm-3 form-label">
                  Operação
                </label>
                <input type="text" for="operacao" disabled="disabled" value="operacao" class="col-sm-9" />
              </div>

              <div class="form-row form-group form-label-group mb-1 row">
                <label for="observacao" class="col-sm-3 form-label">
                  Observação
                </label>
                <!-- Trazer do backend -->
                <textarea for="observacao" required="required" disabled="disabled" class="col-sm-9" rows="1"></textarea>
              </div>

              <div class="form-row form-group form-label-group mb-1 row">
                <label class="col-sm-3 form-label" for="license_info">
                  Liberação
                </label>
                <textarea id="license" rows="7" readonly="readonly" name="license_info" class="small">
Data: license.created_at license.updated_at
Numumero de série: license.num_serie
Num autorizacao: license.num_autorizacao
Qtde exames: license.qtde_exames
Consumo medio: license.consumo_medio
Num. validação: license.data_validade
Verificador: license.codigo_liberacao</textarea>
              </div>

              <button type="button" class="btn btn-default btn-sm btn-info copy d-print-none"
                onclick="javascript: document.getElementById('license').select(); document.execCommand('copy'); return false;">
                Copiar
              </button>
              <!--
              <a hred="#" class="btn btn-default btn-sm btn-success d-print-none">
                <i class="fas fa-dollar-sign"></i>
                Financeiro
              </a>-->
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer mb-3">
        <button type="button" class="btn btn-secondary"
          data-bs-dismiss="modal">
          Sair
        </button>
        <button type="button" class="btn btn-primary"
          data-bs-toggle="modal" data-bs-target="#exampleModal3">
          Editar
        </button>
      </div>
    </div>
  </div>
</div>
