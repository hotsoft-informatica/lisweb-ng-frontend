<div class="d-flex justify-content-between col-sm-12 p-2">
  <button mat-flat-button color="primary" class="col-sm-2 col-md-2
    col-lg-1 float-start" data-bs-toggle="collapse" data-bs-target="#collapseExample"
    aria-expanded="false" aria-controls="collapseExample">
    <mat-icon>search</mat-icon>
    Buscar
  </button>
</div>

<div class="mat-elevation-z4">
  <div class="collapse" id="collapseExample">
    <div class="card card-body">
      <div class="row">
        <div class="mb-3 col-md-3 row">
          <mat-form-field appearance="fill">
            <mat-label>Version Id:</mat-label>
            <input matInput #version_id maxlength="10" formControlName="version_id"
            title="Filtre pelo id da versÃ£o"
              (input)="search('version_id', version_id.value)"
            >
          </mat-form-field>
        </div>
        <div class="mb-3 col-md-3 row">
          <mat-form-field appearance="fill">
            <mat-label>Tabela:</mat-label>
            <input matInput #tabela maxlength="50" formControlName="tabela"
            title="Filtre pela tabela"
              (input)="search('tabela', tabela.value)"
            >
          </mat-form-field>
        </div>
        <div class="mb-3 col-md-3 row">
          <mat-form-field appearance="fill">
            <mat-label>Mensagem:</mat-label>
            <input matInput #mensagem maxlength="50" formControlName="mensagem"
            title="Filtre pela mensagem"
              (input)="search('mensagem', mensagem.value)"
            >
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>

  <div class="mat-elevation-z4">
    <table
      mat-table
      [dataSource]="datasource"
      matSort
      matSortActive="id"
      matSortDirection="desc"
      matSortDisableClear
    >

      <!-- version_id Column -->
      <ng-container matColumnDef="version_id" class="col-2">
        <th mat-header-cell *matHeaderCellDef mat-sort-header="id">Version Id</th>
        <td mat-cell *matCellDef="let row">{{ row?.version_id }}</td>
      </ng-container>

      <!-- data_hora Column -->
      <ng-container matColumnDef="data_hora" class="col-4">
        <th mat-header-cell *matHeaderCellDef mat-sort-header="data_hora">Data/Hora</th>
        <td mat-cell *matCellDef="let row">{{ row?.data_hora | date: "dd/MM/yyyy HH:mm:ss" }}</td>
      </ng-container>

      <!-- http_action Column -->
      <ng-container matColumnDef="http_action" class="col-2">
        <th mat-header-cell *matHeaderCellDef >Http Action</th>
        <td mat-cell *matCellDef="let row">{{ row?.http_action }}</td>
      </ng-container>

      <!-- tabela Column -->
      <ng-container matColumnDef="tabela" class="col-2">
        <th mat-header-cell *matHeaderCellDef >Tabela</th>
        <td mat-cell *matCellDef="let row">{{ row?.tabela }}</td>
      </ng-container>

      <!-- exception_class Column -->
      <ng-container matColumnDef="exception_class" class="col-4">
        <th mat-header-cell *matHeaderCellDef >Class Exception</th>
        <td mat-cell *matCellDef="let row">{{ row?.exception_class }}</td>
      </ng-container>

      <!-- mensagem Column -->
      <ng-container matColumnDef="mensagem" class="col-4">
        <th mat-header-cell *matHeaderCellDef >Mensagem</th>
        <td mat-cell *matCellDef="let row">{{ row?.mensagem }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator [length]="this.totalCount" [pageSize]="5"
    [pageSizeOptions]="[5, 10, 20, 50]"></mat-paginator>
  </div>
</div>
