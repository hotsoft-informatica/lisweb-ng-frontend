{"ast":null,"code":"import { BehaviorSubject, of } from 'rxjs';\nimport { catchError, finalize } from 'rxjs/operators';\nexport class LaboratorioReadDataSource {\n  constructor(laboratorioService) {\n    this.laboratorioService = laboratorioService;\n    this.laboratoriosSubject = new BehaviorSubject([]);\n    this.loadingSubject = new BehaviorSubject(false);\n    this.query = [];\n    this.loading$ = this.loadingSubject.asObservable();\n  }\n\n  loadLaboratorios(active, sortDirection, pageIndex, pageSize, query) {\n    this.loadingSubject.next(true);\n    this.laboratorioService.findLaboratorios(active, sortDirection, pageIndex, pageSize, query).pipe(catchError(() => of([])), finalize(() => this.loadingSubject.next(false))).subscribe(laboratorios => this.laboratoriosSubject.next(laboratorios));\n  }\n\n  connect(collectionViewer) {\n    console.log('Conectando ao data source');\n    return this.laboratoriosSubject.asObservable();\n  }\n\n  disconnect(collectionViewer) {\n    this.laboratoriosSubject.complete();\n    this.loadingSubject.complete();\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}